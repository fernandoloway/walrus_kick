<% include partial/html_head.ejs %>
<link href="css/new_item.css" rel="stylesheet">
</head>

<body>
    <% include partial/navbar.ejs %>

    <div class="container-fluid">
      <div class="row">
        <% include partial/dashboard_sidebar_item.ejs %>

        <main class="col-sm-9 offset-sm-3 col-md-10 offset-md-2 pt-3">
            <form method="POST" action="/insert/item" enctype="multipart/form-data">

                <div class="row">
                    <div class="form-group col-md-4">
                        <label for="NewItemName">New Item Name</label>
                        <input type="text" class="form-control" id="NewItemName" name="NewItemName" placeholder="Plain T-shirt" required>
                    </div>
                    <div class="form-group col-md-4">
                        <label for="ProductCategory">Select Category</label>
                        <select class="form-control" id="SelectedProductCtg" name="SelectedProductCtg" required>
                            <% data.forEach (x => { %>
                                
                             <option value="<%=x.id%>"><%= x.productctgname+" - "+ x.seasonalctgname %></option>
                            
                            <% }) %>
            
                        </select>
                    </div>
                    
                </div>

                <div class="form-group row">
                    <label for="Price" class="col-sm-1 col-form-label">Price</label>
                    <div class="col-sm-2">
                    <input type="number" class="form-control" id="Price" name="Price" placeholder="99000" required>
                    </div>
                    <div class="col form-inline">
                        <label for="ProductImage" class="col-sm-3 col-form-label">Upload Image</label>
                        <input type="file" class="form-control-file" id="imageUploaded" name="imageUploaded" accept = ".jpg, .png, .jpeg, .bmp" required/>
                    </div>
                </div>



                <div class="row">
                    <div class="form-group col-md-8">
                        <label for="ProductDescription">Product Description</label>
                        <textarea class="form-control" id="ProductDescription" name="ProductDescription" rows="3"></textarea>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group form-group-options col-xs-11 col-sm-8 col-md-4">
                        <div class="input-group input-group-option col-xs-12">
                            <input type="text" name="color" class="form-control" placeholder="Color" >
                            <span class="input-group-addon input-group-addon-remove">
                                x
                            </span>
                        </div>
                    </div>
                    <div class="form-group form-group-options col-xs-11 col-sm-8 col-md-4">
                        <div class="input-group input-group-option col-xs-12">
                            <input type="text" name="size" class="form-control" placeholder="Size" >
                            <span class="input-group-addon input-group-addon-remove">
                                x
                            </span>
                        </div>
                    </div>
                </div>


                <button class="btn btn-secondary" type="button" onclick="javascript:history.back()">Batal</button>
                <button class="btn btn-primary" type="submit" >Simpan</button>

            </form>
        </main>
      </div>
    </div>

    <% include partial/libs_location.ejs %>
    <script>

        $(function(){
            
            $(document).on('focus', 'div.form-group-options div.input-group-option:last-child input', function(){
                
                var sInputGroupHtml = $(this).parent().html();
                var sInputGroupClasses = $(this).parent().attr('class');
                $(this).parent().parent().append('<div class="'+sInputGroupClasses+'">'+sInputGroupHtml+'</div>');
                
            });
            
            $(document).on('click', 'div.form-group-options .input-group-addon-remove', function(){
                
                $(this).parent().remove();
                
            });
            
        });

    </script>
</body>
</html>